<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ajustes - Calidad | IES Angel Sanz Briz</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <nav id="mainNav" class="navbar">
        <span></span>
        <a id="navUserBtn" onclick="toggleUserMenu(); return false;" href="#" class="navUser navUserRight">
            <section class="navRank">
                <span class="rankBadge" id="userRank">Miembro</span>
                <span class="rankSeparator"></span>
            </section>
            <img src="svg/user_icon.svg" class="userButton" alt="Usuario">
            <menu id="userMenu" class="userMenu">
                <li><a href="profile.html" class="userMenuItem">Perfil</a></li>
                <li><a href="settings.html" class="userMenuItem">Ajustes</a></li>
                <li><a href="index.html" class="userMenuItem">Cerrar sesión</a></li>
            </menu>
        </a>
    </nav>

    <main id="mainContent" class="settingsContainer">
        <a href="main.html" class="backLink">← Volver a documentos</a>

        <section class="settingsHeader">
            <h1>Ajustes</h1>
        </section>

        <section class="settingsCard">
            <section class="settingSection">
                <h3>Preferencias de Visualización</h3>
                <article class="settingItem">
                    <span class="settingLabel">
                        <h4>Tema oscuro</h4>
                        <p>Activa el tema oscuro para la interfaz</p>
                    </span>
                    <span class="toggleSwitch" onclick="toggleSwitch(this)"></span>
                </article>
                <article class="settingItem">
                    <span class="settingLabel">
                        <h4>Notificaciones por email</h4>
                        <p>Recibe notificaciones de nuevos documentos</p>
                    </span>
                    <span class="toggleSwitch active" onclick="toggleSwitch(this)"></span>
                </article>
            </section>

            <section class="settingSection">
                <h3>Privacidad y Seguridad</h3>
                <article class="settingItem">
                    <span class="settingLabel">
                        <h4>Cambiar contraseña</h4>
                        <p>Actualiza tu contraseña regularmente</p>
                    </span>
                    <button class="changePasswordBtn">Cambiar</button>
                </article>
                <article class="settingItem">
                    <span class="settingLabel">
                        <h4>Autenticación de dos factores</h4>
                        <p>Añade una capa extra de seguridad</p>
                    </span>
                    <span class="toggleSwitch" onclick="toggleSwitch(this)"></span>
                </article>
            </section>

            <section class="settingSection dangerZone">
                <h3>Zona de Peligro</h3>
                <article class="settingItem">
                    <span class="settingLabel">
                        <h4>Eliminar cuenta</h4>
                        <p>Esta acción es irreversible</p>
                    </span>
                </article>
                <button class="deleteButton" onclick="confirmDelete()">Eliminar Cuenta</button>
            </section>

            <button class="saveButton" onclick="saveSettings()">Guardar Cambios</button>
        </section>
    </main>

    <footer id="pageFooter" class="footer">
        <span id="copyright">©Quality+</span>
        <a href="mailto:pr.leon.larrondo@iesangelsanzbriz.net" id="contactLink">Contacto</a>
    </footer>

    <script src="js/script.js"></script>
    <script>
        // Dark Mode Toggle
        function initDarkMode() {
            const darkModeSaved = localStorage.getItem('darkMode') === 'true';
            if (darkModeSaved) {
                document.body.classList.add('dark-mode');
                const darkModeToggle = document.querySelector('.settingItem:first-child .toggleSwitch');
                if (darkModeToggle) {
                    darkModeToggle.classList.add('active');
                }
            }
        }

        function toggleSwitch(element) {
            element.classList.toggle('active');
            
            // Check if this is the dark mode toggle
            const settingItems = document.querySelectorAll('.settingItem');
            let isDarkModeToggle = false;
            
            settingItems.forEach((item, index) => {
                if (item.querySelector('.toggleSwitch') === element && index === 0) {
                    isDarkModeToggle = true;
                }
            });
            
            if (isDarkModeToggle) {
                const isDarkMode = element.classList.contains('active');
                if (isDarkMode) {
                    document.body.classList.add('dark-mode');
                    localStorage.setItem('darkMode', 'true');
                } else {
                    document.body.classList.remove('dark-mode');
                    localStorage.setItem('darkMode', 'false');
                }
            }
        }

        function saveSettings() {
            alert('Cambios guardados correctamente');
        }

        function confirmDelete() {
            if (confirm('¿Estás seguro de que deseas eliminar tu cuenta? Esta acción es irreversible.')) {
                alert('Tu cuenta ha sido eliminada');
                window.location.href = 'index.html';
            }
        }

        // Initialize dark mode on page load
        document.addEventListener('DOMContentLoaded', initDarkMode);
    </script>
</body>
</html>
